<div class="container my-5">
  <h2 class="text-primary mb-4 fw-bold">ğŸ”„ Renouveler un abonnement</h2>

  <form (ngSubmit)="renouveler()" #renouvForm="ngForm" novalidate>



    <!-- Type -->
    <div class="mb-3">
      <label class="form-label">Type dâ€™abonnement</label>
      <select [(ngModel)]="typeAbonnement" (change)="calculateMontant()" name="typeAbonnement" class="form-select" required>
        <option *ngFor="let type of typeOptions" [value]="type">{{ type }}</option>
      </select>
    </div>

    <!-- DurÃ©e -->
    <div class="mb-3">
      <label class="form-label">DurÃ©e</label>
      <select [(ngModel)]="dureeAbonnement" (change)="calculateMontant()" name="dureeAbonnement" class="form-select" required>
        <option *ngFor="let duree of dureeOptions" [value]="duree">{{ duree }}</option>
      </select>
    </div>

    <!-- Montant -->
    <div class="mb-3">
      <label class="form-label">Montant calculÃ©</label>
      <input type="number" [(ngModel)]="montant" name="montant" class="form-control" readonly>
    </div>
    <!-- Montant initial -->
<div class="mb-3">
  <label class="form-label">ğŸ’° Montant initial</label>
  <input type="number" [(ngModel)]="montantInitial" name="montantInitial" class="form-control" readonly>
</div>

<!-- RÃ©duction appliquÃ©e -->
<div class="mb-3" *ngIf="pointsFidelite >= 5">
  <label class="form-label">ğŸ RÃ©duction ({{ pointsFidelite }}%)</label>
  <input type="number" [(ngModel)]="reduction" name="reduction" class="form-control" readonly>
</div>

<!-- Montant final -->
<div class="mb-3">
  <label class="form-label">âœ… Montant Ã  payer</label>
  <input type="number" [(ngModel)]="montantReduit" name="montantReduit" class="form-control" readonly>
</div>

<!-- Points fidÃ©litÃ© -->
<div class="mb-3">
  <label class="form-label">Points de fidÃ©litÃ©</label>
  <input type="number" [(ngModel)]="pointsFidelite" name="pointsFidelite" class="form-control" readonly>
</div>


    <!-- Stripe -->
    <div class="mb-3">
      <label class="form-label">ğŸ’³ Carte bancaire</label>
      <div id="card-element" class="form-control p-3"></div>
    </div>

    <button class="btn btn-success" type="submit">Renouveler</button>
  </form>
</div>