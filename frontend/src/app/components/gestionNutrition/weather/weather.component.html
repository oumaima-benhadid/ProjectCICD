<div class="weather-container">
    <h2>Calculateur de consommation d'eau</h2>
    
    <div class="search-box">
      <input 
        type="text" 
        [(ngModel)]="city" 
        placeholder="Entrez une ville (ex: Paris)"
        (keyup.enter)="fetchWeather()">
      <button (click)="fetchWeather()" [disabled]="isLoading || !city.trim()">
        {{ isLoading ? 'Chargement...' : 'Calculer' }}
      </button>
    </div>
  
    <div *ngIf="errorMessage" class="error-message">
      {{ errorMessage }}
    </div>
  
    <div *ngIf="weatherData" class="weather-results">
      <h3>Résultats pour {{ weatherData.city }}</h3>
      
      <div class="weather-details">
        <div class="detail-item">
          <span class="label">Température:</span>
          <span class="value">{{ weatherData.temperature | number:'1.1-1' }} °C</span>
        </div>
        
        <div class="detail-item">
          <span class="label">Humidité:</span>
          <span class="value">{{ weatherData.humidity }}%</span>
        </div>
        
        <div class="detail-item highlight">
          <span class="label">Eau recommandée:</span>
          <span class="value">{{ weatherData.waterAdjustment | number:'1.1-1' }} litres/jour</span>
        </div>
      </div>
    </div>
  </div>